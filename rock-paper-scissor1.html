<!DOCTYPE html>
<html>
   <head>
      <title>Rock Paper Scissors</title>
   </head>
   <body>
      <p>Rock Paper Scissors</p>
      <button onclick="
         let yourMove='Rock';
         let result=display(yourMove);
         dis(result);
         
         
         
      ">Rock</button>
      <button onclick="
         let yourMove='Paper';
         let result=display(yourMove);
         dis(result);
      ">Paper</button>
      <button onclick="
         let yourMove='Scissor';
         let result=display(yourMove);
         dis(result);
      ">Scissor</button>
      
      <p class="js-result"></p>

      <button onclick="
         score.win=0;
         score.loss=0;
         score.tie=0;
         localStorage.removeItem('score');
      ">Reset Score</button>

      <script>
         const score=JSON.parse(localStorage.getItem('score'))||{
            win: 0,
            loss: 0,
            tie: 0
         };


         function ComputerMove(){
            let comMove=Math.random();
            if(comMove<=(1/3)) return 'Rock';
            else if(comMove<=(2/3)) return 'Paper';
            else return 'Scissor';
         }

         function display(yourMove){
            let comMove=ComputerMove();
            if(yourMove===comMove){
               score.tie++;
               localStorage.setItem('score', JSON.stringify(score));
               return 'Tie';
            }
            else if((yourMove==='Rock' && comMove==='Scissor') || (yourMove==='Paper' && comMove==='Rock') || (yourMove==='Scissor' && comMove==='Paper')){
               score.win++;
               localStorage.setItem('score', JSON.stringify(score));
               return 'You win';
            }
            else{
               score.loss++;
               localStorage.setItem('score', JSON.stringify(score));
               return 'You lose';
            } 
         }

         function dis(result){
            let display_result=document.querySelector('.js-result');
            display_result.innerText=`${result}.`;
         }
      </script>

   </body>
</html>