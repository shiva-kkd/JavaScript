<!DOCTYPE html>
<html>
   <head>
      <title>Rock Paper Scissors</title>
   </head>
   <body>
      <p>Rock Paper Scissors</p>
      <button onclick="
         let yourMove='rock';
         let result=display(yourMove);
         dis(result);
         disMatch(yourMove, ComputerMove());
         disScore();
         
         
         
      ">Rock</button>
      <button onclick="
         let yourMove='paper';
         let result=display(yourMove);
         dis(result);
         disMatch(yourMove, ComputerMove());
         disScore();
      ">Paper</button>
      <button onclick="
         let yourMove='scissor';
         let result=display(yourMove);
         dis(result);
         disMatch(yourMove, ComputerMove());
         disScore();
      ">Scissor</button>
      
      <p class="js-result"></p>
      <p class="js-match"></p>
      <p class="js-score"></p>

      <button onclick="
         score.win=0;
         score.loss=0;
         score.tie=0;
         localStorage.removeItem('score');
         disScore();
      ">Reset Score</button>

      <script>
         const score=JSON.parse(localStorage.getItem('score'))||{
            win: 0,
            loss: 0,
            tie: 0
         };


         function ComputerMove(){
            let comMove=Math.random();
            if(comMove<=(1/3)) return 'rock';
            else if(comMove<=(2/3)) return 'paper';
            else return 'scissor';
         }

         function display(yourMove){
            let comMove=ComputerMove();
            if(yourMove===comMove){
               score.tie++;
               localStorage.setItem('score', JSON.stringify(score));
               return 'Tie';
            }
            else if((yourMove==='rock' && comMove==='scissor') || (yourMove==='paper' && comMove==='rock') || (yourMove==='scissor' && comMove==='paper')){
               score.win++;
               localStorage.setItem('score', JSON.stringify(score));
               return 'You win';
            }
            else{
               score.loss++;
               localStorage.setItem('score', JSON.stringify(score));
               return 'You lose';
            } 
         }

         function dis(result){
            let display_result=document.querySelector('.js-result');
            display_result.innerText=`${result}.`;
         }
         function disMatch(yourMove, compMove){
            let matchEle=document.querySelector('.js-match');
            matchEle.innerText=`You ${yourMove} - ${compMove} Computer`
         }

         function disScore(){
            let scoreEle=document.querySelector('.js-score');
            scoreEle.innerText=`Wins: ${score.win}, Losses: ${score.loss}, Ties: ${score.tie}`;
         }
      </script>

   </body>
</html>